{% extends "base.html" %}

{% block head %}
<link rel="stylesheet" href="{{ url_for("static", filename="game.css") }}">
{% endblock %}

{% block navbar %}
{% endblock %}

{% block content %}


<div class="container d-flex flex-column">
	<div class="d-flex flex-column w-100" id="game-controls">
		<div class="card mb-auto text-center">
			<div class="card-body">
				<h3 id="timer"></h3>
				<button type="button" class="btn btn-dark" data-toggle="modal"
				   data-target="#game-options">{{ _("Options") }}</button>
			</div>
			<div class="progress">
			  <div class="progress-bar" role="progressbar" style="width: 15%" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100"></div>
			  <div class="progress-bar bg-success" role="progressbar" style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
			  <div class="progress-bar bg-info" role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
			</div>
		</div>
	</div>
	<div class="d-flex align-items-center w-100" id="game-container">
		<div class="d-flex flex-column w-100">
			<ul class="list-group list-group-horizontal-md game-item">
				<a href="#" class="list-group-item list-group-item-action"><span class="d-block game-label">{{ _("Subject") }}</span><span id="subject"></span></a>
				<a href="#" class="list-group-item list-group-item-action"><span class="d-block game-label">{{ _("Infinitive") }}</span><span id="infinitive"></span></a>
				<a href="#" class="list-group-item list-group-item-action"><span class="d-block game-label">{{ _("Mood") }}</span><span id="mood"></span></a>
				<a href="#" class="list-group-item list-group-item-action"><span class="d-block game-label">{{ _("Tense") }}</span><span id="tense"></span></a>
			</ul>
			<form id="submission">
				<div class="input-group mb-3 game-item">
					<input type="text" id="guess" class="form-control" aria-describedby="button-addon2" autocomplete="off">
						<div class="input-group-append">
							<button class="btn btn-primary" type="submit" id="button-addon2">Submit</button>
						</div>
				</div>
			</form>
			<div id="answer-box" class="text-center" style="display:none">
				<ul class="list-group text-center answer-list">
					<li class="list-group-item"><span id="feedback"></span></li>
					<li class="list-group-item answer"><span id="answer"></span></li>
					<li class="list-group-item"><a id="translate" target="_new">{{ _("Google Translate") }}</a></li>
					<!-- <li class="list-group-item"><span id="kana"></span></li>-->
					<!-- <li class="list-group-item"><span id="romaji"></span></li>-->
				</ul>
			</div>
			<br>
			<button type="button" class="btn btn-primary" id="continue" style="display:none">Continue</button>
		</div>
	</div>
</div>
<div class="modal fade" id="game-options" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalCenterTitle">{{ _("Options") }}</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<!-- <div class="custom-control custom-switch">
					<input type="checkbox" class="custom-control-input" id="customSwitch1">
					<label class="custom-control-label" for="customSwitch1">Toggle this switch element</label>
				</div> -->
				{% if subjects %}
					<div class="dropdown">
						<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							Subject
						</button>
						<ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
							{% for subject in subjects %}
							<li class="custom-control custom-switch">
								<input type="checkbox" class="custom-control-input option" id="{{ subject }}">
								<label class="custom-control-label" for="{{ subject }}">{{ subject }}</label>
							</li>
							{% endfor %}
						</ul>
					</div>
				{% endif %}
				<div class="dropdown">
					<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						Mood
					</button>
					<ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
						{% for mood in moods %}
						<li class="custom-control custom-switch">
							<input type="checkbox" class="custom-control-input option" id="{{ mood }}">
							<label class="custom-control-label" for="{{ mood }}">{{ mood }}</label>
						</li>
						{% endfor %}
					</ul>
				</div>
				<div class="dropdown">
					<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						Tense
					</button>
					<ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
						{% for tense in tenses %}
						<li class="custom-control custom-switch">
							<input type="checkbox" class="custom-control-input option" id="{{ tense }}">
							<label class="custom-control-label" for="{{ tense }}">{{ tense }}</label>
						</li>
						{% endfor %}
					</ul>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">{{ _("Close") }}</button>
				<button type="button" class="btn btn-primary">{{ _("Save changes") }}</button>
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block footer %}
<script src="{{ url_for("static", filename="game.js") }}"></script>
{% endblock %}
